generator client {
  provider      = "prisma-client-js"
  output        = "../generated/prisma"
  engineType    = "library"
  previewFeatures = []
}

datasource db {
  provider = "postgresql"
}

/// Arena Model
model Arena {
  // Primary Key - Using UUID for a robust, auto-generated ID
  id   String @id @default(uuid())
  name String

  @@index([id])
}

/// Team Model
model Team {
  id   String @id @default(uuid())
  name String

  // Relationship to Participant: One Team can have many participants
  participants Participant[]

  @@index([id])
}

/// Category Model
model Category {
  id   String @id @default(uuid())
  name String

  // Relationship to Participant: One category can have many participants
  participants Participant[]

  @@index([id])
}

/// Participant Model
model Participant {
  id         String   @id @default(uuid())
  name       String
  teamId     String
  categoryId String

  // Relationships
  team     Team     @relation(fields: [teamId], references: [id])
  category Category @relation(fields: [categoryId], references: [id])

  @@index([categoryId, teamId])
}
